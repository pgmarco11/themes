(function(c,d,e,f){function h(a,d){this.element=a;this.settings=c.extend({},k,d);this._defaults=k;this._name="themifyParallaxit";this.fps=60;this.now=0;this.then=Date.now();this.interval=1E3/this.fps;this.delta=0;this.requestId=f;this.parallaxElemns=[];this.init()}var k={selectors:"div",duration:"0.2"};c.extend(h.prototype,{lastScrollTop:0,init:function(){this.parallaxElemns=Array.prototype.slice.call(e.querySelectorAll(this.settings.selectors));for(var a=0;a<this.parallaxElemns.length;a++)this.reset(a);
this.start()},scrollHandler:function(){this.requestId=requestAnimationFrame(this.scrollHandler.bind(this));this.now=Date.now();this.delta=this.now-this.then;this.delta>this.interval&&(this.then=this.now-this.delta%this.interval,this.parallaxit())},add:function(a){a.data("current-delta")||(this.parallaxElemns.push(a[0]),this.reset(this.parallaxElemns.length-1))},reset:function(a){this.parallaxElemns[a].settings=Object.create(null);this.parallaxElemns[a].settings.speed=this.parallaxElemns[a].getAttribute("data-parallax-element-speed")?
this.parallaxElemns[a].getAttribute("data-parallax-element-speed")/10:this.settings.duration;this.parallaxElemns[a].settings.reverse=this.parallaxElemns[a].getAttribute("data-parallax-element-reverse")?this.parallaxElemns[a].getAttribute("data-parallax-element-reverse"):!1;this.parallaxElemns[a].settings.firstTop=c(this.parallaxElemns[a]).offset().top;this.parallaxElemns[a].setAttribute("data-current-delta",0)},stop:function(){this.requestId&&(d.cancelAnimationFrame(this.requestId),this.requestId=
f)},start:function(){this.requestId||(this.requestId=requestAnimationFrame(this.scrollHandler.bind(this)))},parallaxit:function(){for(var a,e=d.pageYOffset,g=c(d),b=0;b<this.parallaxElemns.length;b++){a=this.parallaxElemns[b].settings.reverse?this.parallaxElemns[b].settings.firstTop+c(this.parallaxElemns[b]).outerHeight()-e-g.height():e+g.height()-(this.parallaxElemns[b].settings.firstTop+c(this.parallaxElemns[b]).outerHeight());var f=this.parallaxElemns[b].getAttribute("data-current-delta");a=f-
.08*(f-(0-a*this.parallaxElemns[b].settings.speed));this.parallaxElemns[b].settings.reverse&&(a=Math.max(a,-(g.height()-c(this.parallaxElemns[b]).outerHeight())),a=Math.min(a,g.height()/4));this.parallaxElemns[b].style.top=a+"px";this.parallaxElemns[b].setAttribute("data-current-delta",a);c(this.parallaxElemns[b]).data("prallax-fade")&&(a=this.parallaxElemns[b].getBoundingClientRect(),a.bottom-.15*d.innerHeight<=this.parallaxElemns[b].offsetHeight&&0<=a.bottom?(a=(a.bottom-.15*d.innerHeight)/this.parallaxElemns[b].offsetHeight,
this.parallaxElemns[b].style.opacity=a):0<a.top&&(this.parallaxElemns[b].style.opacity=1))}},isElementInViewport:function(a){a=a.getBoundingClientRect();return 0<=a.top&&0<=a.left&&a.bottom<=(d.innerHeight||e.documentElement.clientHeight)&&a.right<=(d.innerWidth||e.documentElement.clientWidth)}});c.fn.themifyParallaxit=function(a){return this.each(function(){c.data(this,"plugin_themifyParallaxit")||c.data(this,"plugin_themifyParallaxit",new h(this,a))})}})(jQuery,window,document);

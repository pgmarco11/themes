/*1.8.0*/
(function(b){b.fn.iframeAutoHeight=function(a){function g(c){h.debug&&h.debug===!0&&window.console&&console.log(c)}function f(d,j){g("Diagnostics from '"+j+"'");try{g("  "+b(d,window.top.document).contents().find("body")[0].scrollHeight+" for ...find('body')[0].scrollHeight"),g("  "+b(d.contentWindow.document).height()+" for ...contentWindow.document).height()"),g("  "+b(d.contentWindow.document.body).height()+" for ...contentWindow.document.body).height()")}catch(i){g("  unable to check in this state")}g("End diagnostics -> results vary by browser and when diagnostics are requested")}var h=b.extend({heightOffset:0,minHeight:0,callback:function(c){},animate:!1,debug:!1,diagnostics:!1,resetToMinHeight:!1,triggerFunctions:[],heightCalculationOverrides:[]},a);return g(h),this.each(function(){function n(i){var j=null;return jQuery.each(c,function(k,p){if(i[p]){return j=o[p],!1}}),j===null&&(j=o["default"]),j}function l(j){h.diagnostics&&f(j,"resizeHeight"),h.resetToMinHeight&&h.resetToMinHeight===!0&&(j.style.height=h.minHeight+"px");var q=b(j,window.top.document).contents().find("body"),p=n(b.browser),k=p(j,q,h,b.browser);g(k),k<h.minHeight&&(g("new height is less than minHeight"),k=h.minHeight+h.heightOffset),g("New Height: "+k),h.animate?b(j).animate({height:k+"px"},{duration:500}):j.style.height=k+"px",h.callback.apply(b(j),[{newFrameHeight:k}])}var c=["webkit","mozilla","msie","opera"],o=[];o["default"]=function(j,i,p,k){return i[0].scrollHeight+p.heightOffset},jQuery.each(c,function(j,i){o[i]=o["default"]}),jQuery.each(h.heightCalculationOverrides,function(j,i){o[i.browser]=i.calculation});var m=0;g(this),h.diagnostics&&f(this,"each iframe");if(h.triggerFunctions.length>0){g(h.triggerFunctions.length+" trigger Functions");for(var e=0;e<h.triggerFunctions.length;e++){h.triggerFunctions[e](l,this)}}if(b.browser.safari||b.browser.opera){g("browser is webkit or opera"),b(this).load(function(){var j=0,i=this,k=function(){l(i)};m===0?j=500:i.style.height=h.minHeight+"px",g("load delay: "+j),setTimeout(k,j),m++});var d=b(this).attr("src");b(this).attr("src",""),b(this).attr("src",d)}else{b(this).load(function(){l(this)})}})}})(jQuery);